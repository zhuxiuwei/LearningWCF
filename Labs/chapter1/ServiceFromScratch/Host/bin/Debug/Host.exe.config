<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <startup> 
      <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
  </startup>

  <!--Below is for 方法1： from strach。-->
  <!--
    注意。使用App.config来启动host时，service contract可以不是接口而是class，那么下面的service定义里的contarct里写class就行。
    但是如果service contract定义的是interface，下面的contract里必须是interface而不是class，否则报异常找不到service contract。
  -->
  
  <!-- below is for 方法2： with App.config-->
  <system.serviceModel>
    <behaviors>
      <serviceBehaviors>
        <behavior name="serviceBehavior">
          <serviceMetadata httpGetEnabled="true" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <services>
      <service behaviorConfiguration="serviceBehavior" name="HelloIndigo.HelloIndigoService">
        <endpoint address="HelloIndigoService" binding="basicHttpBinding" bindingConfiguration="" contract="HelloIndigo.IHelloIndigoService" />
        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:8000" />
          </baseAddresses>
        </host>
      </service>
    </services>
  </system.serviceModel>
  
  <!-- below is for SSL Certification test. 160205.
      sample: http://www.codeproject.com/Articles/36683/simple-steps-to-enable-X-certificates-on-WCF?fid=1541161&fr=1#xx0xx
  -->
  <!--<system.serviceModel>
    --><!--<bindings>
      <wsHttpBinding>
        <binding name="wsHttpEndpointBinding">
          <security>
            <message clientCredentialType="Certificate" />
          </security>
        </binding>
      </wsHttpBinding>
    </bindings>--><!--
    <services>
      <service behaviorConfiguration="basicServiceBehavior" name="HelloIndigo.SecureService" >
        --><!-- 坑： 这里必须写class，不能写接口。否则这里编译报错，实际运行Host.exe也会报异常："System.InvalidOperationException: Service 'HelloIndigo.SSLService' has zero application (non-infrastructure) endpoints"--><!--
        --><!--<endpoint address="SSLService" binding="wsHttpBinding" bindingConfiguration="wsHttpEndpointBinding" contract="HelloIndigo.ISSLService" />--><!--
        <endpoint address="SecureService" binding="basicHttpBinding" contract="HelloIndigo.ISecureService" />
        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:8000" />
          </baseAddresses>
        </host>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="basicServiceBehavior">
          <serviceMetadata httpGetEnabled="true" />
        </behavior>
        --><!--<behavior name="sslServiceBehavior">
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="false"/>
          <serviceCredentials>
            <clientCertificate>
              <authentication certificateValidationMode="PeerTrust"/>
            </clientCertificate>
            <serviceCertificate findValue="WCfServer" storeLocation="CurrentUser" storeName="My" x509FindType="FindBySubjectName" />
          </serviceCredentials>
        </behavior>--><!--
      </serviceBehaviors>
    </behaviors>
  </system.serviceModel>-->
</configuration>